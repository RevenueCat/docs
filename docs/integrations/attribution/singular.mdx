---
title: Singular
slug: singular
excerpt: Integrate Purchases SDK with Singular for precise revenue tracking
hidden: false
---

With our Singular integration you can:

- Accurately track subscriptions generated from Singular campaigns, allowing you to know precisely how much revenue your campaigns generate.
- Send trial conversions and renewals directly from RevenueCat to Singular, allowing for tracking without an app open.
- Continue to follow your cohorts for months to know the long tail revenue generated by your campaigns.

### Integration at a Glance

| Includes Revenue | Supports Negative Revenue |   Sends Sandbox Events   |   Includes Customer Attributes   | Sends Transfer Events |                                                                 Optional Event Types                                                                  |
| :--------------: | :-----------------------: | :----------------------: | :------------------------------: | :-------------------: | :---------------------------------------------------------------------------------------------------------------------------------------------------: |
|        ✅        |            ✅             | Requires sandbox SDK key | Certain Reserved Attributes only |          ❌           | `non_subscription_purchase_event` `uncancellation_event` `subscription_paused_event` `expiration_event` `billing_issues_event` `product_change_event` |

## 1. Send device data to RevenueCat

The Singular integration requires some device-specific data. RevenueCat will only send events into Singular if the below [Customer Attribute](/customers/customer-attributes) keys have been set for the device.

| Key        | Description                                                                                                                                     | Required          |
| :--------- | :---------------------------------------------------------------------------------------------------------------------------------------------- | :---------------- |
| `$idfa`    | iOS [advertising identifier](https://developer.apple.com/documentation/adsupport/asidentifiermanager/1614151-advertisingidentifier) UUID        | ✅ (iOS only)     |
| `$idfv`    | iOS [vendor identifier](https://developer.apple.com/documentation/uikit/uidevice/1620059-identifierforvendor) UUID                              | ✅ (iOS only)     |
| `$gpsAdId` | Google [advertising identifier](https://developers.google.com/android/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.Info) | ✅ (Android only) |
| `$ip`      | The IP address of the device                                                                                                                    | ❌ (optional)     |

:::warning Android ID deprecation
Due to policy changes from the Play Store, Android ID is no longer collected by RevenueCat's Android SDKs starting on versions 6.9.8+, 7.11.1+, and later major versions.

Therefore, Google's Advertising ID acts as the primary device identifier for Android devices in RevenueCat and when connecting with third-party integrations.
:::

These properties can be set manually, like any other [Attributes](/customers/customer-attributes), or through the helper method `collectDeviceIdentifiers()`.

import swiftContent from "@site/code_blocks/integrations/attribution/singular_1.swift?raw";
import kotlinContent from "@site/code_blocks/integrations/attribution/singular_2.kt?raw";

<RCCodeBlock
  tabs={[
    { type: "swift", content: swiftContent, name: "Swift" },
    { type: "kotlin", content: kotlinContent, name: "Kotlin" },
  ]}
/>

You should make sure to call `collectDeviceIdentifiers()` after the _Purchases SDK_ is configured, and before the first purchase occurs. It's safe to call this multiple times, as only the new/updated values will be sent to RevenueCat.

:::info Modifying SKAdNetwork conversion values is not currently supported
Since we deliver server-to-server events via API, as opposed to on the SDK where SKAN can be interacted with, this integration does not allow you to modify SKAN conversion values directly from received RevenueCat events.
:::

:::danger Device identifiers with iOS App Tracking Transparency (iOS 14.5+)
If you are requesting the App Tracking permission through ATT to access the IDFA, you can call `.collectDeviceIdentifiers()` _again_ if the customer accepts the permission to update the `$idfa` attribute in RevenueCat.
:::

:::info Import AdSupport Framework (iOS)
The AdSupport framework is required to access the IDFA parameter on iOS. Don't forget to import this into your project.
:::

![Import AdSupport Framework](/docs_images/integrations/attribution/import-adsupport-framework.png)

:::danger Remove any client-side purchase tracking
Make sure to remove all client-side tracking of revenue. Since RevenueCat will be sending events for all revenue actions, tracking purchases with the Singular SDK directly can lead to double counting of revenue in Singular.
:::

### (Optional) Send campaign data to RevenueCat

RevenueCat itself is not an attribution network, and can't determine which specific ad drove an install/conversion. However, if you're able to collect this information from another source, such as Singular, it's possible to attach it to a user in RevenueCat using [Customer Attributes](/customers/customer-attributes) as well.
The below reserved key names can be used to optionally attach campaign data to a user. This data will then be sent through to other downstream analytics integrations and accessible via APIs and webhooks.

| Key            |
| :------------- |
| `$mediaSource` |
| `$campaign`    |
| `$adGroup`     |
| `$ad`          |
| `$keyword`     |
| `$creative`    |

## 2. Send RevenueCat events into Singular

After you've set up the _Purchases SDK_ to send device data to RevenueCat, you can "turn on" the integration and configure the event names from the RevenueCat dashboard.

:::warning Enable Reject IAP without Receipt on Singular
RevenueCat's events do not include receipts from the stores, since we validate purchases before triggering events. Therefore, do NOT enable the 'Reject IAP without Receipt' setting in Singular's Apps page so these events are accepted in Singular after having been validated by RevenueCat.
:::

1. Navigate to your project settings in the RevenueCat dashboard and choose 'Singular' from the Integrations menu

![Integration setup](/docs_images/integrations/setup-integrations.png)

2. Add your Singular SDK key, and an optional sandbox SDK key. The sandbox SDK key will be used for any sandbox purchases so you don't have to send them to your production Singular instance.
3. Enter the event names that RevenueCat will send or choose the default event names.
4. Select whether you want RevenueCat to report proceeds (after app store cut) or revenue (gross sales).

:::info Report early renewals
By default, we will send a renewal's event time as the time when its due, but some stores may process their renewals early. Enable this setting in the Dashboard to report an early renewal's occurrence time instead of the time when the new subscription period is due to start to Singular, which may be especially useful when passing events to 3rd party sources from Singular that may not support an event time being in the future.
:::

## 3. Testing the Singular integration

You can test the Singular integration end-to-end before going live. It's recommended that you test the integration is working properly for new users, and any existing users that may update their app to a new version.

### Add a sandbox SDK key in the RevenueCat dashboard

Before you test the integration, make sure you have a Singular SDK key set in the "SDK key (sandbox)" field in RevenueCat. This is required if you want the integration to trigger for sandbox purchases.

### Make a sandbox purchase with a new user

Simulate a new user installing your app, and go through your app flow to complete a sandbox purchase.

### Check that the required device data is collected

Navigate the the [Customer View](/dashboard-and-metrics/customer-profile#customer-details) for the test user that just made a purchase. Make sure that all of the required data from step 1 above is listed as attributes for the user.

:::warning Check the Singular Export logs tool for Revenue
While we are still sending the Revenue metric for these events, you should not expect to see the event appearing as Revenue in Singular's SDK console. You can verify that the event is processed as a revenue event in the Export logs tool via Singular.
:::

![](/docs_images/integrations/attribution/singular/required-attributes.png)

### Check that the Singular event delivered successfully

While still on the Customer View, click into the test purchase event in the [Customer History](/dashboard-and-metrics/customer-profile) and make sure that the Singular integration event exists and was delivered successfully.

![](/docs_images/integrations/attribution/singular/successful-event.png)

:::success You've done it!
You should start seeing events from RevenueCat appear in Singular.
:::
